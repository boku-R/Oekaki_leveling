<div class="container-fluid py-3">
  <div class="row">
    <div class="col-md-8 offset-md-2 mx-auto">
      <%= flash[:notice] %>
      <%= render "public/shared/error_messages", resource: resource %>
      <div class="h4"><i class="fas fa-user-plus"></i> 新規登録</div>


      <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
        <table class="table table-borderless text-right shadow p-3 rounded">
          <thead>
            <tr>
              <th scope="col" style="width: 30%"></th>
              <th scope="col" style="width: 70%"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="align-middle text-nowrap">
                <p>ユーザ名<br>(半角英数字)</p>
              </td>
              <td>
                <div class="form-group">
                  <%= f.text_field :username, autofocus: true, autocomplete: "username", class: "form-control", required: true %>
                </div>
              </td>
            </tr>
            <tr>
              <td class="align-middle text-nowrap">
                <p>ハンドル名<br>(全角も可)</p>
              </td>
              <td>
                <div class="form-group">
                  <%= f.text_field :handlename, required: true, class: "form-control" %>
                </div>
              </td>
            </tr>
            <tr>
              <td class="align-middle text-nowrap">
                <p>Eメール</p>
              </td>
              <td>
                <div class="form-group">
                  <%= f.email_field :email, autofocus: true, autocomplete: "email", required: true, class: "form-control" %>
                </div>
              </td>
            </tr>
            <tr>
              <td class="align-middle text-nowrap">
                <p>
                  パスワード<br>
                  <% if @minimum_password_length %>
                  <%= t('devise.shared.minimum_password_length', count: @minimum_password_length) %>
                  <% end %>
                </p>
              </td>
              <td>
                <div class="form-group">
                  <%= f.password_field :password, autocomplete: "new-password", required: true, class: "form-control" %>
                </div>
              </td>
            </tr>
            <tr>
              <td class="align-middle text-nowrap">
                <p>
                  パスワード<br>（確認用）
                </p>
              </td>
              <td>
                <div class="form-group">
                  <%= f.password_field :password_confirmation, autocomplete: "new-password", required: true, class: "form-control" %>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="actions d-flex justify-content-center">
          <%= f.submit "新規登録する", class:"btn btn-secondary" %>
        </div>
      <% end %>

      <p class="text-right pt-4">アカウントをお持ちの方は<%= link_to "こちら", user_session_path, class:"h5 border-bottom border-dark" %></p>
    </div>
  </div>
</div>

<div class="container-fluid py-4">
  <div class="row">
    <div class="col-md-8 offset-md-2 shadow">
      <% if !current_user.present? && !current_admin.present? %>
        <table class="table table-borderless p-3 rounded">
          <tbody>
            <tr>
              <p class="text-center pt-4 mb-1">登録が面倒ですか？<br>気軽に触ってみましょう！</p>
              <div class="p-0"><%= link_to 'ゲストログイン', users_guest_sign_in_path, class: "btn btn-outline-secondary btn-block", method: :post %></div>
            </tr>
          </tbody>
        </table>
      <% end %>
    </div>
  </div>
</div>